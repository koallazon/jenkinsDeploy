<template>
  <div>
    <h2>í™ˆ</h2>
    <nuxt-link :to="{ path: '/main' }">home</nuxt-link>
    <div v-if="Array.isArray(list)">{{ list }}</div>
  </div>
</template>

<script>
export default {
  name: 'ContentPage',
  async asyncData({ $axios, error }) {
    console.log('ğŸ‘€ isServer', process.server)
    // error({ message: 'Error fetching data...' })
    throw new Error('ë‚´ê°€í–ˆì–´')

    const data = await $axios.get('https://dev-msa-api.hanatour.com/contents/v1/banner/global-top')
    // console.log('ğŸš€ ~ file: index.vue:15 ~ asyncData ~ data', data.data)
    // console.log('asyncData', process.server ? 'ì„œë²„ì—ì„œ ì‘ë™ ì¤‘' : 'í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì‘ë™ ì¤‘')
    // error({ message: 'Error fetching data...' })
    return { list: data.data }
  },
  data: () => {
    return {
      list: null,
    }
  },
  mounted() {
    // setTimeout(() => {
    //   this.$nuxt.error({ statusCode: 404, message: 'ë‚´ê°€ ì—ëŸ¬ë‚¸ê±°ì•¼' })
    // }, 2000)
  },
}
</script>
